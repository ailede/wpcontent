var czrapp=czrapp||{};!function(a,e){var i={initOnCzrReady:function(){if(void 0!==a.fn.masonry){var o=a(".masonry__wrapper"),t=a.Deferred(),r=e.base.matchMedia&&e.base.matchMedia(575),i=_.debounce(function(){o.masonry("layout")},200);o.length<1?e.errorLog("Masonry container does not exist in the DOM."):(o.on("masonry-init.customizr",function(){t.resolve()}),o.imagesLoaded(function(){r||o.masonry({itemSelector:".grid-item",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},isOriginLeft:!e.isRTL}).on("smartload simple_load","img",function(e){a(this).closest(".grid-item").hasClass("full-image")||i()}),o.trigger("masonry-init.customizr")}),e.$_body.on("post-load",function(e,i){var n=function(e,i){if(i&&i.type&&"success"==i.type&&i.collection&&i.html)if(r)o.imagesLoaded(function(){o.trigger("masonry.customizr",i)});else{var n=a(i.collection.join(),o);0<n.length&&n.imagesLoaded(function(){o.masonry("appended",n).trigger("masonry.customizr",i),setTimeout(function(){a(window).trigger("scroll.infinity")},150)})}};"resolved"==t.state()?n(0,i):t.then(function(){n(0,i)})}))}}};e.methods.MasonryGrid={},a.extend(e.methods.MasonryGrid,i),e.Base.extend(e.methods.MasonryGrid),e.ready.done(function(){e.methods.MasonryGrid.initOnCzrReady()})}(jQuery,czrapp);